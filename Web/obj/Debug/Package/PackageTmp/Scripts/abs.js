(function(I,J){var K,L,N=1,O=["BUTTON","SUBMIT","CHECKBOX","RADIO","PASSWORD","FILE","HIDDEN","IMAGE"],P={},Q=I.XMLHttpRequest?function(){return new XMLHttpRequest()}:function(){return new ActiveXObject("Microsoft.XMLHTTP")},R=function(a,b,c,d,e){var f=Q(),g=function(){if(f.readyState==4)b(f.status==200?$.decode(f.responseText):{success:false,msg:f.status+"错误",data:f.responseText})};e=e!==false;b=b||function(){};if(c=="GET"){if(d)a+="?"+$.encodeURI(d);d=null;f.open(c,a,e)}else{f.open("POST",a,e);f.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8");d=d?$.encodeURI(d):null}if(e){f.onreadystatechange=g;f.send(d)}else{f.send(d);g()}},S=function(a,b){var c;if(c=O.contains(a.toUpperCase())){c=a;a="INPUT"}if(b){try{a=J.createElement("<"+a+" name='"+b+"'>")}catch(e){a=J.createElement(a);a.name=b}}else a=J.createElement(a);if(c)a.type=c;return a},T=function(b,n){var a='0000000000000000'+b;return a.substr(a.length-(n||2))};I.isUndefined=function(v){return typeof v==="undefined"};I.isRegExp=function(v){return Object.prototype.toString.call(v)=="[object RegExp]"};I.isArray=function(v){return Object.prototype.toString.apply(v)==='[object Array]'};I.isFunction=function(v){return typeof v==="function"};I.isString=function(v){return typeof v==="string"};I.isElement=function(v){return typeof v==="object"&&(v.nodeType===1||v.nodeType===11)};Date.fromSeconds=function(s){var d=new Date(0);d.setSeconds(s);return d};Date.prototype.format=function(f){var y=this.getFullYear()+"",M=this.getMonth()+1,d=this.getDate(),H=this.getHours(),m=this.getMinutes(),s=this.getSeconds(),mill=this.getMilliseconds()+"0000";return f.replace(/\y{4}/,y).replace(/y{2}/,y.substr(2,2)).replace(/M{2}/,T(M)).replace(/M/,M).replace(/d{2,}/,T(d)).replace(/d/,d).replace(/H{2,}/,T(H)).replace(/H/,H).replace(/m{2,}/,T(m)).replace(/m/,m).replace(/s{2,}/,T(s)).replace(/s/,s).replace(/f+/,function(w){return mill.substr(0,w.length)})};Array.prototype.contains=function(a){for(var i=0,n=this.length;i<n;i++){if(this[i]==a)return true}return false};Array.prototype.indexOf=function(a){for(var i=0,n=this.length;i<n;i++){if(this[i]==a)return i}return-1};Array.prototype.each=function(f){for(var i=0,n=this.length;i<n;i++){if(f(this[i],i,n)===false)break}};String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};if(I.addEventListener){K=function(o,e,h){o.addEventListener(e,h,false)};L=function(o,e,h){o.removeEventListener(e,h,false)}}else if(I.attachEvent){K=function(o,e,h){var a,b;if(!h.$$guid)h.$$guid=N++;if(!o.events)o.events={};a=o.events[e];if(!a)a=o.events[e]={};b=a[h.$$guid];if(!b){b=a[h.$$guid]=function(){h.call(o,$E())};o.attachEvent('on'+e,b)}};L=function(o,e,h){if(o.events&&o.events[e]){o.detachEvent("on"+e,o.events[e][h.$$guid]);delete o.events[e][h.$$guid]}}}I.on=function(e,h){K(this,e,h)};I.$$=function(o){if(isString(o))o=J.getElementsByName(o);o.each=function(f){Array.prototype.each.call(this,f)};o.val=o.value=function(v){if(isUndefined(v)){var b=[];$.each(this,function(a){if(a.checked)b.push(a.value)});return b.join(", ")}var c=[];v=(v+"").split(", ");this.each(function(a){a.checked=false;v.each(function(j){if(a.value==j){c.push(a);return false}})});c.each(function(i){i.checked=true})};o.on=function(e,h){this.each(function(a){K(a,e,h)})};return o};I.$E=function(e){if(e)return e;e=I.event;e.pageX=e.clientX+$.getScrollLeft();e.pageY=e.clientY+$.getScrollTop();e.target=event.srcElement;e.stopPropagation=function(){this.cancelBubble=true};e.preventDefault=function(){this.returnValue=false};if(e.type=="mouseout")e.relatedTarget=e.toElement;else if(event.type=="mouseover")e.relatedTarget=e.fromElement;return e};I.$=function(){var g=arguments,i=0,o=g[i++],a,j;if(isString(o)){if(o.match(/^<([a-zA-Z]+)([^>]+)*>/)){o=$(document.createElement("DIV")).html(o).firstChild;if(a=g[i])a.appendChild(o)}else if(a=g[i++]){o=S(o,g[i]);if(isElement(a))a.appendChild(o)}else{if(a=P[o])return a;if(a=o.match(/\?(\w+)/))return P[o]=$.getQueryString(a[1]);b=J.getElementById(o);if(!b)return b;P[o]=b;o=b}}else if(isFunction(o.on))return o;o.on=function(e,h){if(isUndefined(h)){if(o.fireEvent)o.fireEvent("on"+e);else{var a=J.createEvent('HTMLEvents');a.initEvent(e,true,true);o.dispatchEvent(a)}}else{K(this,e,h);return this}};o.attr=function(a,b){if(!isUndefined(b))this.setAttribute(a,b);else if(isString(a))return this.getAttribute(a);else{for(b in a)this.setAttribute(b,a[b])}return this};o.prop=function(a,b){if(!isUndefined(b))this[a]=b;else if(isString(a))return this[a];else{for(b in a)this[b]=a[b]}return this};o.html=function(a){if(!isUndefined(a)){this.innerHTML=a;return this}return this.innerHTML};o.val=function(a){if(!isUndefined(a)){this.value=a;return this}return this.value};o.cssText=function(v){if(isUndefined(v))return this.style.cssText;this.style.cssText=v;return this};o.css=function(a){if(isString(a)){if(/\:/.test(a))this.style.cssText=this.style.cssText.replace(/\s*;\s*$/,"")+";"+a;else this.className=a}else if(isUndefined(a))return this.className.split(" ");else if(isArray(a))this.className=a.join(" ");else{for(var b in a){var c=a[b];if(b=="opacity"&&$.ie)this.style.filter=(this.currentStyle.filter||"").replace(/alpha\([^)]*\)/,"")+"alpha(opacity="+c*100+")";else if(b=="float")this.style[$.ie?"styleFloat":"cssFloat"]=c;else this.style[b]=c}}return this};j=o.contains;o.contains=j?isUndefined(j.call)?function(b){return o!=b&&j(b)}:function(b){return o!=b&&j.call(this,b)}:function(b){return!!(o.compareDocumentPosition(b)&16)};o.remove=function(a,b){if(isString(a))L(this,a,b);else{if(tmp=o.id&&P[tmp])delete P[tmp];o.parentNode.removeChild(o)}};o.appendTo=function(p){p.appendChild(this);return this};o.appendText=function(a){this.appendChild(J.createTextNode(a));return this};o.getCurrentStyle=J.defaultView?function(){return J.defaultView.getComputedStyle(this,null)}:function(){return this.currentStyle};o.rect=function(){var a=this,b=0,c=0,d=0,e=0;if(!a.getBoundingClientRect||$.ie8){while(a){b+=a.offsetLeft,c+=a.offsetTop;a=a.offsetParent};d=b+this.offsetWidth;e=c+this.offsetHeight}else{var f=a.getBoundingClientRect();b=d=$.getScrollLeft();c=e=$.getScrollTop();b+=f.left;d+=f.right;c+=f.top;e+=f.bottom}return{"left":b,"top":c,"right":d,"bottom":e}};return o};$.each=function(a,f){if(typeof a.length=="number")Array.prototype.each.call(a,f);else{var i=0;for(var k in a){if(f(k,a[k],i++)===false)break}}};(function(a){var b={msie:/msie/.test(a)&&!/opera/.test(a),opera:/opera/.test(a),webkit:/webkit/.test(a),firefox:/firefox/.test(a),chrome:/chrome/.test(a)},c="",d;b.safari=b.webkit&&!b.chrome;for(var i in b){if(b[i]){c=i}}if(b.safari)c="version";d=RegExp("(?:"+c+")[\\/: ]([\\d.]+)").test(a)?RegExp.$1:"0";$.bv=d;$.webkit=b.webkit;$.ff=b.firefox;$.ie=b.msie;$.ie6=b.msie&&parseInt(d)==6;$.ie7=b.msie&&parseInt(d)==7;$.ie8=b.msie&&parseInt(d)==8;$.ie9=b.msie&&parseInt(d)==9})(I.navigator.userAgent.toLowerCase());$.getScrollTop=function(){return J.documentElement.scrollTop||J.body.scrollTop};$.getScrollLeft=function(){return J.documentElement.scrollLeft||J.body.scrollLeft};$.getDocRect=function(){var a=J.compatMode!='BackCompat'?J.documentElement:J.body;return{left:$.getScrollLeft(),top:$.getScrollTop(),width:Math.max(a.clientWidth,a.scrollWidth),height:Math.max(a.clientHeight,a.scrollHeight),clientWidth:a.clientWidth,clientHeight:a.clientHeight}};$.getQueryString=function(a){var b=I.location.search.substr(1).match(new RegExp("(^|&)"+a+"=([^&]*)(&|$)","i"));if(b!=null)return decodeURIComponent(b[2]);return null};$.Cookie={get:function(a){var b=J.cookie.match(new RegExp("(^| )"+a+"=([^;]*)(;|$)"));if(b!=null)return unescape(b[2]);return null},set:function(a,b,c){if(c){var d=new Date();d.setTime(d.getTime()+c*24*60*60*1000);c=";expires="+d.toGMTString()}J.cookie=a+"="+escape(b)+(c||"")+";path=/"},remove:function(a){var v=this.get(a);if(v!=null)this.set(a,v,-1)}};$.open=function(a,w,h,t){I.open(a,t||"_blank","height="+h+",width="+w+",top="+(screen.availHeight-h)/2+",left="+(screen.availWidth-w)/2+",toolbar=no,menubar=no,scrollbars=yes,resizable=yes,location=no,status=no")};$.extend=function(){var a=arguments[0]||{},i=1,b=arguments.length,c=true,d;if(typeof a==="boolean"){c=a;a=arguments[1]||{};i=2}if(typeof a!=="object"&&Object.prototype.toString.call(a)!="[object Function]")a={};for(;i<b;i++){if((d=arguments[i])!=null){for(var e in d){var f=a[e],g=d[e];if(a===g)continue;if(c&&g&&typeof g==="object"&&!g.nodeType&&!isRegExp(g)){a[e]=arguments.callee(c,f||(isArray(g)?[]:{}),g)}else if(g!==undefined)a[e]=g}}}return a};(function(){if(!isFunction(Date.prototype.toJSON)){Date.prototype.toJSON=function(a){return this.format("yyyy-MM-dd HH:mm:ss")};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()}}var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'},j=function(b){g.lastIndex=0;return g.test(b)?'"'+b.replace(g,function(a){var c=h[a];return isString(c)?c:'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'},l=function(a,b){var i,k,v,c,d,e=b[a];if(e&&typeof e==='object'&&isFunction(e.toJSON)){e=e.toJSON(a)}switch(typeof e){case'string':return j(e);case'number':return isFinite(e)?String(e):'null';case'boolean':case'null':return String(e);case'object':if(!e){return'null'}d=[];if(isArray(e)){c=e.length;for(i=0;i<c;i+=1){d[i]=l(i,e)||'null'}v=d.length===0?'[]':'['+d.join(',')+']';return v}for(k in e){if(Object.hasOwnProperty.call(e,k)){v=l(k,e);if(v){d.push(j(k)+':'+v)}}}v=d.length===0?'{}':'{'+d.join(',')+'}';return v}};$.encode=function(a){return l('',{'':a})};$.decode=function(b){b=b+"";f.lastIndex=0;if(f.test(b)){b=b.replace(f,function(a){return'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4)})}return eval('('+b+')')}})();$.ready=(function(){var b=[],c,d,f,g,h=function(){d=true;clearInterval(c);while(f=b.shift())f()};return function(a){if(d)return a();if(!b[0]){if(J.addEventListener)J.addEventListener("DOMContentLoaded",h,false);if($.ie){(function(){if(d)return;try{J.body.doScroll()}catch(e){setTimeout(arguments.callee,64);return}h()})()}else if($.webkit){c=setInterval(function(){if(/loaded|complete/.test(J.readyState))h()},10)}g=I.onload;I.onload=function(){h();if(g)g()}}b.push(a)}})();$.encodeURI=function(o){var a="",v;for(var k in o){v=o[k];v=isUndefined(v)||v===null?"":encodeURIComponent(v);a+=(k+"="+v+"&")}return a.substr(0,a.length-1)};$.get=function(a,b,c,d){R(a,b,"GET",c,d)};$.post=function(a,b,c,d){R(a,b,"POST",c,d)};$.gradual=function(a,b){var c;for(var i=0;i<a.length;i++){c=a[i];c.times=c.endTime-c.startTime+1;c.oriClass=c.element.className;c.oriStyle=c.element.style.cssText.replace(/;\s*$/,";");c.isWidth=!isUndefined(c.widthEnd)&&!isUndefined(c.widthStart);c.isHeight=!isUndefined(c.heightEnd)&&!isUndefined(c.heightStart);c.isLeft=!isUndefined(c.leftEnd)&&!isUndefined(c.leftStart);c.isTop=!isUndefined(c.topEnd)&&!isUndefined(c.topStart);c.isOpacity=!isUndefined(c.opacityEnd)&&!isUndefined(c.opacityStart);c.isEnd=false}var d=0,e=false,f,g,h=function(){e=true;for(var i=0;i<a.length;i++){c=a[i];g="";if(!c.isEnd){if(d>=c.endTime){if(c.isWidth)g+="width:"+c.widthEnd+"px;";if(c.isHeight)g+="height:"+c.heightEnd+"px;";if(c.isLeft)g+="left:"+c.leftEnd+"px;";if(c.isTop)g+="top:"+c.topEnd+"px;";if(c.isOpacity)g+="filter:alpha(opacity:"+c.opacityEnd+");opacity:"+(c.opacityEnd/100)+";";c.element.style.cssText=c.oriStyle+";"+g;c.isEnd=true;if(isFunction(c.onstop))c.onstop()}else{e=false;if(d>=c.startTime){if(d==c.startTime&&isFunction(c.onstart)){c.onstart();c.oriStyle=c.element.style.cssText.replace(/;\s*$/,";")}if(c.isOpacity){c.opacityStart+=(c.opacityEnd-c.opacityStart)/c.times;g+="filter:alpha(opacity:"+c.opacityStart+");opacity:"+(c.opacityStart/100)+";"}if(c.isTop){c.topStart+=(c.topEnd-c.topStart)/c.times;g+="top:"+c.topStart+"px;"}if(c.isLeft){c.leftStart+=(c.leftEnd-c.leftStart)/c.times;g+="left:"+c.leftStart+"px;"}if(c.isWidth){c.widthStart+=(c.widthEnd-c.widthStart)/c.times;g+="width:"+c.widthStart+"px;"}if(c.isHeight){c.heightStart+=(c.heightEnd-c.heightStart)/c.times;g+="height:"+c.heightStart+"px;"}c.element.style.cssText=c.oriStyle+";"+g;c.times--}}}}d++;if(e){I.clearInterval(f);if(isFunction(b))b()}};h();f=window.setInterval(function(){h()},20)};$.int=function(a){return parseInt(a.replace(/^(\s|0)+/,""))};$.pad=T;$.Calendar=function(){var g,h=arguments,k=/^\d{4}-\d{2}-\d{2}$/,l="日期格式错误",n=this,o=$(h[0]),p=function(){s.style.visibility="hidden";$.Calendar.current=null;o.validate()},q=function(){var b=$.int(E.value)-1,c=v[b],w=J.documentElement.scrollWidth,d=o.rect(),e=new Date($.int(D.value),b,1).getDay(),f=$("DIV",F.html("")).css("week");s.cssText("visibility:visible;top:"+(d.top+o.offsetHeight+2)+"px;left:"+d.left+"px");for(var j=0;j<7;j++){$("SPAN",f).html(x[j])}for(var j=0;j<e;j++){$("SPAN",F).html("&nbsp;")}for(var j=1;j<=c;j++){var a=$("A",F).attr("href","javascript:void(0);").prop("d",T(j)).html(j).on("click",function(){n.value(D.value+"-"+E.value+"-"+this.prop("d"))});if(j==u.getDate()&&D.value==u.getFullYear()&&$.int(E.value)==u.getMonth()+1)a.className="today";if(D.value==y&&E.value==z&&A==j)a.className+=" current"}t.cssText("height:"+B.offsetHeight+"px;width:"+B.offsetWidth+"px;z-index:0");w=w-J.documentElement.scrollWidth;if(w!=0)s.style.marginLeft=w+"px"};if(g=h[1])g.add(o,$.extend(h[2],{listen:false,regex:k,regexText:l}));else{o.prop("msg",$("SPAN",o.parentNode).css("hid")).prop("validate",function(){if(this.value!=""&&!k.test(this.value))this.msg.css("err").html(l);else this.msg.css("hid")})}var r=J.createDocumentFragment(),s=$("DIV",r).css("calendar"),t=$("IFRAME",s).prop("frameBorder","0"),u=new Date(),v=[31,28,31,30,31,30,31,31,30,31,30,31],x=["日","一","二","三","四","五","六"],y,z,A,B=$("DIV",s).css("clendarCon"),C=$("DIV",B).css("clendarTop"),D,E;$("A",C).css("prevMonth").attr("href","javascript:void(0);").on("click",function(){var m=$.int(E.value);if(m==1){D.value=Math.max(2008,$.int(D.value)-1);m=12}else m--;E.value=T(m);q()}).html("&lt;&lt;");$("A",C).attr("href","javascript:void(0);").on("click",function(){var m=$.int(E.value);if(m==12){D.value=Math.min(u.getFullYear()+10,$.int(D.value)+1);m=1}else m++;E.value=T(m);q()}).css("nextMonth").html("&gt;&gt;");D=$("SELECT",C).on("change",function(){if($.int(this.value)%4==0)v[1]=29;else v[1]=28;q()});for(var i=2008;i<u.getFullYear()+10;i++)D.options.add(new Option(i,i));C.appendText("年 ");E=$("SELECT",C).on("change",q);C.appendText("月");for(var i=1,j;i<=12;i++){j=T(i);E.options.add(new Option(j,j))}var F=$("DIV",B),G=$("DIV",B).css("clendarBtm");$("A",G).css("prevYear").attr("href","javascript:void(0);").html("上年").on("click",function(){D.value=Math.max(2008,$.int(D.value)-1);q()});$("A",G).css("nextYear").attr("href","javascript:void(0);").html("下年").on("click",function(){D.value=Math.min(u.getFullYear()+10,$.int(D.value)+1);q()});$("A",G).attr("href","javascript:void(0);").html("[今天]").on("click",function(){n.today()});$("A",G).attr("href","javascript:void(0);").html("[清空]").on("click",function(){n.value("")});o.on("focus",function(){var b;if(this.value){var c=this.value.split("-");y=c[0];z=c[1];A=c[2]}else{u=new Date();y=u.getFullYear();z=T(u.getMonth()+1);A=0}D.value=y;E.value=z;if($.Calendar.current)$.Calendar.current.hide();$.Calendar.current=n;b=J.body.onclick;J.body.onclick=function(e){var a=$E(e).target;if(a!=o&&!$(s).contains(a)){J.body.onclick=b;p()}};q()});document.body.appendChild(r);this.hide=p;this.today=function(){n.val(new Date().format("yyyy-MM-dd"))};this.val=this.value=function(a){if(isUndefined(a))return o.value;o.value=a;p()}};$.move=function(o,c,i){var j,k,l,m,n=function(e){c.css({left:(m+e.pageX-j)+"px",top:(l+e.pageY-k)+"px"})};if(!c)c=o;o.on("mousedown",function(e){if((isArray(i)&&i.contains(e.target))||(i&&e.target==i)){}else{var a=$(c).getCurrentStyle(),b=$.move.bg,d=$.move.bgDIV;j=e.pageX;k=e.pageY;l=parseInt(a.top.replace("px",""));m=parseInt(a.left.replace("px",""));if(!b){$.move.bg=b=$("IFRAME",J.body).prop("frameBorder","0").attr("scrolling","no");$.move.bgDIV=d=$("DIV",J.body)}else{b.appendTo(J.body);d.appendTo(J.body)}var f=$.getDocRect(),g={display:"block",cursor:"move",zIndex:"10000",top:"0px",left:"0px",position:"absolute",width:f.width-20+"px",height:f.height-20+"px",opacity:"0",backgroundColor:"#000"},h=function(){b.css("display:none");d.css("display:none");d.remove("mouseup",h);d.remove("mousemove",n)};b.css(g);d.css(g).on("mouseup",h).on("mousemove",n)}})};$.Dialog=function(c){var d=J.documentElement,e=J.body,f=(c.width||400)+2,g,h,i,j,k,l,m,n,o,p=function(){var a=d.clientWidth,b=d.clientHeight;n=Math.max(d.scrollLeft,e.scrollLeft);o=Math.max(d.scrollTop,e.scrollTop);j=Math.round(a/2)+n;k=Math.round(b/2)+o;g=s.offsetHeight;h=Math.max(Math.round((a-f)/2)+n,0);i=Math.max(Math.round((b-g)/2)+o,0);m=Math.max(d.scrollHeight,e.scrollHeight,b,g);l=Math.max(d.scrollWidth,e.scrollWidth,a)},q=function(){p();s.style.left=h+"px";s.style.top=i+"px";p();$.Dialog.bg.css("width:"+l+"px;height:"+m+"px;");$.Dialog.bgDIV.css("width:"+l+"px;height:"+m+"px;")};if(!$.Dialog.bg){$.Dialog.bg=$("IFRAME",J.body).prop("frameBorder","0").attr("scrolling","no").css("dialogBg");$.Dialog.bgDIV=$("DIV",J.body).css("dialogBgDIV")}var r=J.createDocumentFragment(),s=$("DIV",r).css("dialog"),t=$("DIV",s),u=$("DIV",t).css("dialogHeader"),w=$("A",u).css("dialogCloser"),x=$("SPAN",u).html(c.title),y=$("DIV",t).css("dialogCon"),z;$.move(u,s,w);u.onselectstart=function(){return false};if(isString(c.content))y.html(c.content);else y.appendChild(c.content);J.body.appendChild(r);this.close=function(){if(isFunction(c.beforeClose)&&c.beforeClose()===false)return false;I.onresize=z;$.Dialog.bg.style.display="none";$.Dialog.bgDIV.style.display="none";s.style.overflow="hidden";p();$.gradual([{element:s,startTime:5,endTime:10,topStart:i,topEnd:k,leftStart:h,leftEnd:j,widthStart:s.offsetWidth-2,widthEnd:0,heightStart:s.offsetHeight-2,heightEnd:0},{element:t,startTime:0,endTime:5,opacityStart:100,opacityEnd:0}],function(){s.style.cssText="left:-10000px;top:-10000px;visibility:hidden;height:auto;";t.style.visibility="hidden";if(isFunction(c.close))c.close()})};w.onclick=this.close;this.distroy=function(){if(s.parentNode)s.remove()};this.title=function(v){x.html(v)};this.width=function(v){f=v+2};this.fixPlace=q;this.show=function(){s.style.overflow="hidden";p();s.style.visibility="visible";z=I.onresize;I.onresize=q;t.style.cssText="height:100%;filter:alpha(opacity:0);opacity:0;visibility:hidden;";$.gradual([{element:t,startTime:5,endTime:15,opacityStart:0,opacityEnd:100,onstart:function(){t.style.visibility="visible"}},{element:s,startTime:0,endTime:5,topStart:k,topEnd:i,leftStart:j,leftEnd:h,widthStart:0,widthEnd:f-2,heightStart:0,heightEnd:g-2}],function(){s.css({height:"auto",overflow:"visible"});$.Dialog.bg.style.cssText="width:"+l+"px;height:"+m+"px;display:block;";$.Dialog.bgDIV.style.cssText="width:"+l+"px;height:"+m+"px;display:block;filter:alpha(opacity:30);opacity:0.3;";if(isFunction(c.show))c.show()})}};$.page=function(c,d,e,f,g,h){var j=Math.ceil(e/d),k,l,m;f.innerHTML="";l=$("SPAN",f).css({"float":"left"});if(h){k=$("SPAN",f).css({"float":"left"});if(isString(h))k.html(h);else if(isFunction(h))h(k)}else k=f;m=$("SPAN",f).css({"float":"right"});if(j>0){var n=function(a,b){$("A",m).attr("href","javascript:void(0);").prop("index",b).html(a).on("click",function(){g(b);return false})},o=function(a,b){for(var i=a;i<=b;i++){if(i==c)$("SPAN",m).css("current").html(i);else n(i,i)}};if(c==1)$("SPAN",m).html("第一页");else n("第一页",1);if(j<=7)o(1,j);else{if(c<5){o(1,5);m.appendText("...")}else{o(1,2);m.appendText("...");if(c+3>=j){o(j-4,j-1)}else{o(c-1,c+2);m.appendText("...")}}o(j,j)}if(j==c)$("SPAN",m).html("最后一页");else n("最后一页",j);$("SPAN",l).html("共"+e+"条数据&nbsp;&nbsp;每页"+d);$("SPAN",l).html("当前第"+c+"/"+j+"页"),p=$("INPUT",m).attr("value",c).css("pageNum");$("EM",$("A",m).css("btn1").on("click",function(){if(isNaN(p.value)||$.int(p.value)>j)alert("请输入正确的页码!");else g($.int(p.value))})).html("go")}else $("SPAN",l).html("共0条数据");return k};$.Validation=function(d){var e=[],f=[],g=function(o,a){o.msg.css("err").html(a);f.push(o)},h=function(o){if(!isUndefined(o.msg))o.msg.css("hid");for(var i=f.length-1;i>=0;i--){if(o===f[i])f.splice(i,1)}};this.hasError=function(){return f.length!=0};this.validate=function(){for(var i=0;i<e.length;i++){e[i]()}return!this.hasError()},j=function(o,b){if(!b){b=o;o=b.id}o=$(o);if(isUndefined($(o).msg)){o.msg=$("<SPAN>").appendTo(o.parentNode||o[o.length-1].parentNode).css("hid");if(b.width)o.msg.css({width:b.width+"px"})}else{$(o.msg)}var c=function(){var v=isFunction(o.value)?o.value():o.value,a=false;if(b.emptyAble===false&&v=="")g(o,b.emptyText);else if(v!=""&&!isUndefined(b.regex)&&!b.regex.test(v))g(o,b.regexText);else if(b.compare&&b.compare.value!=v)g(o,b.compareText);else if(b.validate&&!b.validate())g(o,b.validationText);else{a=true;h(o)}return a};o.validate=c;if(b.listen!==false)o.on("blur",function(){if(c()&&isFunction(b.success))b.success()});if(b.msg)o.on("focus",function(){o.msg.css("msg").html(b.msg)});e.push(c)};this.add=j;if(d)d.each(function(a){j(a)})}})(window,document);